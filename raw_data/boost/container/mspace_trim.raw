push r14
push r13
mov r13, rsi
push r12
push rbp
push rbx
mov rbx, rdi
test byte [rdi + 0x370], 2
je 0x8007cb3
lea r12, [rdi + 0x374]
mov eax, 1
xchg dword [r12], eax
xor ebp, ebp
mov r14d, 1
test eax, eax
jne 0x8007cd5
mov rsi, r13
mov rdi, rbx
call sym.sys_trim
test byte [rbx + 0x370], 2
jne 0x8007cf8
pop rbx
pop rbp
pop r12
pop r13
pop r14
ret
call sched_yield
mov eax, dword [rbx + 0x374]
test eax, eax
jne 0x8007cea
mov eax, r14d
xchg dword [r12], eax
test eax, eax
je 0x8007cb3
add ebp, 1
test bpl, 0x3f
jne 0x8007cd5
jmp sched_yield
nop dword [rax]
mov dword [rbx + 0x374], 0
pop rbx
pop rbp
pop r12
pop r13
pop r14
ret
