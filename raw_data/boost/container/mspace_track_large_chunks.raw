mov eax, dword [rdi + 0x370]
push r14
push r13
push r12
mov r12d, esi
push rbp
push rbx
mov rbx, rdi
test al, 2
jne 0x8006190
mov r8d, eax
mov edx, eax
and eax, 0xfffffffe
not r8d
or edx, 1
and r8d, 1
test r12d, r12d
cmove eax, edx
mov dword [rbx + 0x370], eax
test al, 2
jne 0x80061b0
pop rbx
mov eax, r8d
pop rbp
pop r12
pop r13
pop r14
ret
nop word cs:[rax + rax]
lea r13, [rdi + 0x374]
mov eax, 1
xchg dword [r13], eax
test eax, eax
jne 0x80061d0
mov eax, dword [rbx + 0x370]
jmp 0x8006158
nop dword [rax]
mov eax, r8d
mov dword [rbx + 0x374], 0
pop rbx
pop rbp
pop r12
pop r13
pop r14
ret
nop word cs:[rax + rax]
xor ebp, ebp
mov r14d, 1
nop dword [rax + rax]
mov eax, dword [rbx + 0x374]
test eax, eax
jne 0x80061f5
mov eax, r14d
xchg dword [r13], eax
test eax, eax
je 0x80061a4
add ebp, 1
test bpl, 0x3f
jne 0x80061e0
call sched_yield
jmp 0x80061e0
