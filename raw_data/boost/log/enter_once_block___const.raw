push rbp
push rbx
mov rbx, rdi
lea rdi, [0x0800005c]
sub rsp, 8
call pthread_mutex_lock
mov rbx, qword [rbx]
movzx eax, byte [rbx]
cmp al, 2
je 0x80000ad
lea rbp, [0x08000076]
nop word cs:[rax + rax]
movzx eax, byte [rbx]
test al, al
jne 0x800009f
jmp 0x80000c5
nop dword [rax]
mov rsi, rbp
lea rdi, [0x0800009a]
call pthread_cond_wait
movzx eax, byte [rbx]
cmp al, 1
je 0x8000090
movzx eax, byte [rbx]
cmp al, 2
jne 0x8000080
lea rdi, [0x080000b4]
call pthread_mutex_unlock
add rsp, 8
mov eax, 1
pop rbx
pop rbp
ret
mov byte [rbx], 1
lea rdi, [0x080000cf]
call pthread_mutex_unlock
add rsp, 8
xor eax, eax
pop rbx
pop rbp
ret
