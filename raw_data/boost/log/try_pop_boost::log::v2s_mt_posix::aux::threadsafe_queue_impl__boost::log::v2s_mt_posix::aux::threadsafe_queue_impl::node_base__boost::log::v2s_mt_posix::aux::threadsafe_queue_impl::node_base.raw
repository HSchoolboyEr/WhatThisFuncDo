push r14
push r13
lea r13, [rdi + 8]
push r12
mov r12, rsi
push rbp
mov rbp, rdx
push rbx
mov rbx, rdi
mov rdi, r13
call pthread_mutex_lock
test eax, eax
jne .text.unlikely
mov rdx, qword [rbx]
xor r14d, r14d
mov rax, qword [rdx]
test rax, rax
je 0x80005c4
mov qword [r12], rdx
mov r14d, 1
mov qword [rbx], rax
mov qword [rbp], rax
mov rdi, r13
call pthread_mutex_unlock
pop rbx
mov eax, r14d
pop rbp
pop r12
pop r13
pop r14
ret
