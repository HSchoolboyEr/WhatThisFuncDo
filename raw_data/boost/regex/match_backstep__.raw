mov rsi, qword [rdi + 0x28]
mov rcx, qword [rdi + 0x58]
xor r8d, r8d
movsxd r9, dword [rcx + 0x10]
mov rdx, rsi
sub rdx, qword [rdi + 0x40]
sar rdx, 2
mov rax, r9
cmp r9, rdx
jg 0x800488c
neg eax
mov r8d, 1
cdqe
lea rax, [rsi + rax*4]
mov qword [rdi + 0x28], rax
mov rax, qword [rcx + 8]
mov qword [rdi + 0x58], rax
mov eax, r8d
ret
