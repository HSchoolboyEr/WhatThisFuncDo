push r13
push r12
push rbp
push rbx
mov rbx, rdi
add rdi, 8
sub rsp, 0x28
lea r12, [var_8h]
mov qword [rsp], 0
mov rbp, rsp
mov qword [var_8h], 0
mov qword [var_10h], r12
call _ZN5boost6fibers6detail13spinlock_ttas4lockEv
add byte [rax], al
add byte [rax], al
mov rdi, qword [rbx + 0x18]
lea rdx, [rbx + 0x10]
test rdi, rdi
je 0x80004c0
mov r11, qword [var_8h]
mov rcx, rbp
test r11, r11
sete r13b
mov rax, qword [rdx + 0x10]
lea rsi, [rdx + 8]
lea r8, [rcx + 8]
mov r9, qword [rcx + 0x10]
cmp rsi, rax
setne r10b
cmp r8, rsi
setne bpl
cmp r8, rax
setne r8b
test bpl, r8b
je 0x80003f1
test r10b, r10b
je 0x80003f1
mov r8, qword [rax]
mov qword [rdx + 8], r8
mov qword [rax], r11
mov qword [rcx + 8], rdi
mov qword [rcx + 0x10], rax
test r13b, r13b
je 0x8000478
mov qword [rdx + 0x10], rsi
mov rax, qword [rbx + 0x10]
mov rdx, qword [rsp]
mov qword [rsp], rax
mov qword [rbx + 0x10], rdx
mov dword [rbx + 8], 1
mov rax, qword [var_8h]
test rax, rax
jne 0x800043f
jmp 0x80004b0
nop dword [rax]
mov rdi, qword [rbx + 0x28]
mov rsi, rbp
mov rax, qword [rdi]
call qword [rax + 0x10]
mov rax, qword [var_8h]
test rax, rax
je 0x80004b0
mov rdx, qword [rax]
sub qword [rsp], 1
lea rbp, [rax - 0x10]
mov qword [var_8h], rdx
mov qword [rax], 0
cmp qword [var_8h], 0
je 0x80004a8
mov rdi, rbp
call _ZNK5boost6fibers7context15sleep_is_linkedEv
add byte [rax], al
add byte [rax], al
test al, al
je 0x8000428
mov rdi, rbp
call _ZN5boost6fibers7context12sleep_unlinkEv
add byte [rax], al
add byte [rax], al
jmp 0x8000428
nop dword [rax]
cmp r9, rsi
setne cl
test cl, r10b
je 0x800049c
cmp r9, rax
je 0x800049c
mov rcx, qword [rax]
mov rdi, qword [r9]
mov rsi, qword [rdx + 8]
mov qword [rax], rdi
mov qword [r9], rsi
mov qword [rdx + 8], rcx
mov qword [rdx + 0x10], r9
jmp 0x80003fe
nop dword [rax]
mov qword [var_10h], r12
jmp 0x800045f
nop
add rsp, 0x28
pop rbx
pop rbp
pop r12
pop r13
ret
nop dword [rax + rax]
mov rdi, qword [var_8h]
test rdi, rdi
je 0x80003fe
mov rcx, rdx
xor r11d, r11d
mov r13d, 1
mov rdx, rbp
jmp 0x80003b4
