push r12
push rbp
push rbx
mov rbx, rdi
sub rsp, 0x10
call _ZN5boost6fibers7context6activeEv
mov rdi, rbx
mov qword [rsp], rbx
mov byte [var_8h], 0
mov rbp, rax
call _ZN5boost6fibers6detail13spinlock_ttas4lockEv
mov byte [var_8h], 1
cmp qword [rbx + 0x18], rbp
jne .text.unlikely
mov qword [rbx + 0x18], 0
lea rdi, [rbx + 8]
call _ZN5boost6fibers10wait_queue10notify_oneEv
add byte [rax], al
add byte [rax], al
cmp byte [var_8h], 0
jne 0x8000368
add rsp, 0x10
pop rbx
pop rbp
pop r12
ret
nop dword [rax]
mov rax, qword [rsp]
test rax, rax
je 0x800035b
mov dword [rax], 1
add rsp, 0x10
pop rbx
pop rbp
pop r12
ret
